name: ğŸ¤– Build Runtime

on:
  workflow_dispatch:    # Trigger manually
  # pull_request:         # Trigger on pull request
  # push:               # Trigger on push to main branch
    # branches:
    #  - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        
      - name: â¬‡ï¸ Install Dependencies
        run: npm install

      - name: ğŸ›  Compile TypeScript
        run: npm run build:all
        
    # This is just a demo, but instead of runs-on, and steps above:
    # A COMPANY could standardise a complex process in a reusable workflow as follows:

    # uses: COMPANY/cp-templates/.github/workflows/nodejs-runtime-build.yml@master
    # secrets: inherit
    # with:
    #   node_version: "20"

    # The reusable workflow could do many things such as ğŸ”–generate a build tag,
    # ğŸï¸ restore node modules cache â¬‡ï¸ install dependencies, ğŸ˜ check code formatting,
    # ğŸ•µï¸ run linting, âœ… run tests, ğŸ“ archive code coverage artefacts, ğŸ›  compile typescript,
    # ğŸš€ create release, ğŸ“‚ archive build artifact, ğŸ“ package release artifacts, â¬†ï¸ upload release asset
